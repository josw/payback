<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="me.blog.youreme.payback.dao.DebtHistoryDAO">
	<select id="selectDebtHistory" parameterType="HashMap" resultType="DebtHistory" >
	    SELECT
	        creditor,
	        debtor,
	        amount,
	        reason,
	        completed,
	        regdate
	    FROM
	        DebtHistory
	    WHERE
	        creditor = ${creditor}
	        AND debtor == #{debtor}
	</select>
	
	<insert id="insertDebtHistory" parameterType="DebtHistory">
		INSERT INTO DebtHistory (creditor, debtor, amount, reason, completed regdate)
		VALUES (#{creditor}, #{debtor}, ${amount}, #{reason}, false, DATETIME('NOW'))
    </insert>
</mapper>
